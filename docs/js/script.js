function rand(e,t){return Math.floor(Math.random()*(t-e+1))+e}let map=document.querySelector(".map"),treasure=document.querySelector(".treasure"),styles_map=window.getComputedStyle(map),styles_treasure=window.getComputedStyle(treasure),width=parseInt(styles_map.getPropertyValue("width").toString()),height=parseInt(styles_map.getPropertyValue("height").toString()),width_treasure=parseInt(styles_treasure.getPropertyValue("width").toString()),height_treasure=parseInt(styles_treasure.getPropertyValue("height").toString()),indentation_left=map.getBoundingClientRect().left,indentation_top=map.getBoundingClientRect().top,treasure_x=rand(0,width-width_treasure),treasure_y=rand(0,height-height_treasure),approach=0,isApproach=!0,arrow=document.querySelector(".arrow");function getDistanceBetweenPoints(e,t,r,a){const s=r-e,n=a-t;return Math.sqrt(s*s+n*n)}function getAngleBetweenPoints(e,t){let r=t.x-e.x,a=(t.y-e.y)/r,s=180*Math.atan(a)/Math.PI;return r<0&&(s+=180),s+180}treasure.style.left=treasure_x+"px",treasure.style.top=treasure_y+"px",map.addEventListener("click",(function(e){if(isApproach){let t=parseInt(e.clientX-indentation_left),r=parseInt(e.clientY-indentation_top);approach++,console.log(approach),arrow.style.top=r+"px",arrow.style.left=t+"px",arrow.style.display="block",arrow.style.transform="rotate("+getAngleBetweenPoints({x:t,y:r},{x:treasure_x,y:treasure_y})+"deg)",approach<=10&&(t>=treasure_x-50&&t<=treasure_x+width_treasure+50&&r>=treasure_y-50&&r<=treasure_y+height_treasure+50?(treasure.style.display="block",isApproach=!1,alert("Вітаю! Ви знайшли скарб!!!")):10===approach?(isApproach=!1,alert("На цьому острові скарбів нема :(")):alert("Тут скарба нема, пірат тебе обманув. Відстань до скарбу "+Math.floor(getDistanceBetweenPoints(t,r,treasure_x,treasure_y))+"px"))}}));